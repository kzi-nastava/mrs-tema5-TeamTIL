<header class="navbar">
  <div class="logo-container" routerLink="/">
    <img src="assets/logo.png" alt="TilTaxi Logo" class="top-logo" />
    <h1 class="top-brand-name">tilTaxi</h1>
  </div>

  <nav class="nav-links">
    <a *ngFor="let link of navLinks" 
       [routerLink]="link.route" 
       routerLinkActive="active">
      {{ link.label }}
    </a>
  </nav>

  <!-- Prikaz za neregistrovane korisnike -->
  <div class="auth-buttons" *ngIf="!isLoggedIn">
    <button class="btn-login" routerLink="/login">Log in</button>
    <button class="btn-register" routerLink="/register">Register</button>
  </div>

  <!-- Prikaz za ulogovane korisnike -->
  <div class="profile-nav" *ngIf="isLoggedIn">
    <span class="profile-label">Profile</span>
    <div class="avatar-small-circle" (click)="toggleDropdown()">
      <i class="fas fa-user"></i>
    </div>

    <!-- Dropdown Menu -->
    <div class="dropdown-menu" *ngIf="isDropdownOpen" (click)="$event.stopPropagation()">
      <div class="dropdown-header">
        <div class="dropdown-avatar">
          <i class="fas fa-user"></i>
        </div>
        <span class="dropdown-username">{{ userName }}</span>
      </div>
      <div class="dropdown-divider"></div>
      <div class="dropdown-items">
        <a *ngFor="let item of menuItems" 
           class="dropdown-item"
           [routerLink]="item.route"
           (click)="onMenuItemClick(item)"
           [class.logout-item]="item.label === 'Log out'">
          <i [class]="item.icon"></i>
          <span>{{ item.label }}</span>
        </a>
      </div>
    </div>
  </div>
</header>

<!-- Overlay za zatvaranje dropdown-a -->
<div class="dropdown-overlay" *ngIf="isDropdownOpen" (click)="closeDropdown()"></div>
